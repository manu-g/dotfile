# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
#

# this file and re-run i3-config-wizard(1).
# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

######################
# ;Help
######################
#
#
# Theme
# Bar
# Workspaces
# Application setting
# Screen
# Sound
# Power
# Application shortcuts
# Touchpad
# Trackpoint
# Startup

set $mod Mod4
set $super Mod1

################################################################################
#  ;Theme
################################################################################

#font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
#font pango:DejaVu Sans Mono 7
font pango:DejaVu Sans Mono, Terminus Bold Semi-Condensed 7
#font pango:Terminus 9px
font pango:Droid Sans 7
#font pango: Ubuntu Mono 8

# class                    border    backgr.    text         indicator child_border             0099E5   1793D0
client.focused             #0174DF   #084B8A    #FFFFFF
client.focused_inactive    #000000   #333333    #FFFFFF
client.unfocused           #000000   #333333    #FFFFFF
client.urgent              #FF0000   #FF0000    #FF0000


################################################################################
#  ;Bar
################################################################################

bar {
        #output LVDS1
        position	        bottom
        #tray_output         primary

        status_command		i3status --config ~/.config/i3/i3status.conf
        # status_command		py3status -c ~/.config/i3/py3status.conf
        # status_command      i3blocks -c ~/.config/i3/i3blocks.conf

        workspace_buttons	yes
        # dock hide invisible
        #mode hide
        # hide show
        #hidden_state show
        modifier $mod
        # separator_symbol "|"
        # strip_workspace_numbers yes

        font pango:DejaVu Sans Mono, Awesome 8

        # shows mode options in bar (e.g. shutdown mode, screen)
        binding_mode_indicator yes
        colors {
                 # Whole color settings
                 background #000000
                 statusline #ffffff
                 separator  #666666

                 # Type             border  background font
                 #focused_workspace  #008fff #007fff #ffffff
                 #active_workspace   #333333 #5f676a #ffffff
                 #inactive_workspace #333333 #222222 #888888
                 #urgent_workspace   #aa0000 #990000 #ffffff
                 focused_workspace  #ffffff #285577
                 active_workspace   #ffffff #333333
                 inactive_workspace #888888 #222222
                 urgent_workspace   #ffffff #900000
     }
}


################################################################################
#  ;Workspaces
################################################################################

# xmodmap -pk

set $ws1 1 🌐
set $ws2 2 mail
set $ws3 3 🎝
set $ws4 4 vm
set $ws5 5
set $ws6 6
set $ws7 7
set $ws8 8 🖿
set $ws9 9 🖿
set $ws10 10 🖿
set $ws11 11 >_
set $ws12 12 >_
set $ws13 13 >_
set $ws14 todo
# ✔ todo 🌐  🌍  🖳  ✉  🎝  🖿  >_  $_
# ü udiaeresis   + plus   ö odiaeresis  ä adiaeresis    , comma    . period    ß ssharp   # dead_circumflex

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+odiaeresis workspace $ws11
bindsym $mod+adiaeresis workspace $ws12
bindsym $mod+udiaeresis workspace $ws13
bindsym $mod+plus workspace $ws14


# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10
bindsym $mod+Shift+odiaeresis move container to workspace $ws11
bindsym $mod+Shift+adiaeresis move container to workspace $ws12
bindsym $mod+Shift+udiaeresis move container to workspace $ws13
bindsym $mod+Shift+plus move container to workspace $ws14

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# kill focused window
bindsym $mod+Shift+q kill

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# split in horizontal orientation
bindsym $mod+o split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+p focus parent

# focus the child container
bindsym $mod+control+p focus child

# go to last used workspace
bindsym $mod+c workspace back_and_forth
# enables automatic switching back to the previous workspace (w8 -> w1, press w1 to go back to w8)
workspace_auto_back_and_forth yes

# cycle through workspaces
bindsym $mod+Tab workspace next_on_output
bindsym $mod+Shift+Tab workspace prev_on_output

# resize window (you can also use the mouse for that)
mode "$resize" {
        # These bindings trigger as soon as you enter the resize mode
        bindsym h resize shrink width 20 px or 20 ppt
        bindsym k resize grow height 20 px or 20 ppt
        bindsym j resize shrink height 20 px or 20 ppt
        bindsym l resize grow width 20 px or 20 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 2 px or 2 ppt
        bindsym Down resize grow height 2 px or 2 ppt
        bindsym Up resize shrink height 2 px or 2 ppt
        bindsym Right resize grow width 2 px or 2 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
set $resize rezise

# resize windows
bindsym $mod+r mode "$resize"

# move current workspace left, right, up or down
bindsym $mod+Shift+Left move workspace to output left
bindsym $mod+Shift+Right move workspace to output right
bindsym $mod+Shift+Up move workspace to output up
bindsym $mod+Shift+Down move workspace to output down

# move workspace to output
bindsym $mod+Control+Left move workspace to output left
bindsym $mod+Control+Right move workspace to output right
bindsym $mod+Control+Up move workspace to output up
bindsym $mod+Control+Down move workspace to output down

# Border toggle
bindsym $mod+b border toggle


################################################################################
#  ;Application setting
################################################################################

# assign screens
# assign [class="Firefox"] $ws1

# set window border preference
new_window none
new_float none

#for_window [class="chrome|sublime|Kupfer|Terminator"] border none
#for_window [class="Thunderbird"] border 1pixel
for_window [title="Terminal(?i)"] border normal

# Correct handling of dialogs
for_window [class="Lxappearance"] floating enable
#for_window [title="(?i)Guake*"] floating enable
for_window [class="(?i)Xarchiver"] floating enable
for_window [class="(?i)plugin-container"] floating enable
for_window [title="(?i)xfce4-notifyd"] floating enable border none
for_window [instance="(?i)Msgcompose"] floating enable
for_window [title="(?i)Preferences$"] floating enable
for_window [window_role="(?i)pop-up"] floating enable
for_window [window_role="(?i)About"] floating enable
for_window [window_role="(?i)task_dialog"] floating enable
#for_window [class="(?i)Alarm-clock-app"] floating enable
for_window [class="(?i)gnome-calculator"] floating enable
for_window [class="(?i)keepassx"] floating enable
for_window [class="(?i)keepass2"] floating enable
for_window [title="Open Database File"] floating enable
for_window [class="Writefull"] floating enable
#for_window [class="(?i)tilda"] floating enable
#for_window [class="(?i)terminator"] floating enable
for_window [class="(?i)hamster"] floating enable
for_window [title="(?i)Anwendungsfinder"] floating enable
for_window [class="(?i)xfce4-appfinder"] floating enable


################################################################################
#  ;Screen
################################################################################

# workspace $ws9 output HDMI1

mode "$mode_monitor" {
    bindsym a exec --no-startup-id "arandr", mode "default"
    bindsym e exec --no-startup-id ~/.screenlayout/exmonitor.sh, mode "default"
    bindsym d exec --no-startup-id ~/.screenlayout/dualmonitor.sh, mode "default"
    bindsym u exec --no-startup-id ~/.screenlayout/dualStack.sh, mode "default"
    bindsym i exec --no-startup-id ~/.screenlayout/internmonitor.sh, mode "default"
    bindsym m exec --no-startup-id ~/.screenlayout/LGMonitor.sh, mode "default"
    bindsym o exec --no-startup-id ~/.screenlayout/LGMonitorOnly.sh, mode "default"
    bindsym f exec --no-startup-id ~/.screenlayout/workDual.sh, mode "default"
    bindsym g exec --no-startup-id ~/.screenlayout/workOnly.sh, mode "default"
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
#set $mode_monitor Monitor (a) arandr, (i) internal, (e) external VGA, (d) dual VGA, (u) dual stacked VGA, (m) LGMonitor, (o) LGMonitor only, (f) workDual, (g) workOnly
set $mode_monitor Monitor (a) arandr, (i) internal, (e) external VGA, (d) dual VGA, (u) dual stacked VGA
bindsym $mod+$super+m mode "$mode_monitor"

# start graphical monitor layout manager
bindsym XF86Display exec "arandr"
bindsym $mod+F8 exec "arandr"

# black screen
bindsym $mod+F1 exec "bash ~/.config/i3/blank.sh"
# bindsym $mod+F2 exec bash ~/.config/i3/blank.sh; exec xscreensaver-command --lock
bindsym $mod+F2 exec bash ~/.config/i3/blank.sh; exec light-locker-command -l
#bindsym $mod+F1 exec "sudo vbetool dpms off"
#bindsym $mod+F2 exec "sudo vbetool dpms on"

# Screen brightness
bindsym XF86MonBrightnessUp exec "~/.config/i3/backlight.sh max 10"
bindsym XF86MonBrightnessDown exec "~/.config/i3/backlight.sh min 10"

bindsym $mod+$super+Control+k exec "~/.config/i3/backlight.sh max 10"
bindsym $mod+$super+Control+j exec "~/.config/i3/backlight.sh min 10"


################################################################################
#  ;Sound
################################################################################

# set audio change factor
set $rise 5%

# for ubuntu
# set $service amixer -q -D pulse sset Master
# set $Mute exec amixer -q -D pulse sset Master toggle

# for debian
set $service amixer -q set Master
set $Mute exec amixer -q set Master toggle

#set $Mute exec amixer -q set Headphone toggle; exec amixer -q set Master toggle; exec amixer -q set Speaker toggle

# blue keyboard shortcuts
bindsym XF86AudioRaiseVolume exec $service $rise+ unmute
bindsym XF86AudioLowerVolume exec $service $rise- unmute
bindsym XF86AudioMute $Mute

bindsym $super+$mod+j exec $service $rise- unmute
bindsym $super+$mod+k exec $service $rise+ unmute
bindsym $super+$mod+l $Mute

# set volume over 100%
bindsym $mod+$super+F12 exec pactl set-sink-volume 0 +15%
bindsym $mod+$super+F11 exec pactl set-sink-volume 0 -15%

# audio micro mute
# not working
#bindsym $mod+XF86AudioMicMute exec amixer -q set Capture toggle
#bindsym $mod+XF86AudioMicMute exec amixer -q set Capture toggle
#bindsym XF86AudioMicMute exec amixer -q set Mic toggle


################################################################################
#  ;Power
################################################################################

# set Locking command
#set $Locking exec xscreensaver-command --lock && sleep 1
set $Locking exec i3lock -c 000000
set $Lock i3lock -c 000000
#set $Locking exec light-locker-command -l
set $Change exec dm-tool switch-to-greeter

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# power settins
mode "$mode_system" {
    bindsym l exec --no-startup-id $Locking, $Mute, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id $Locking; $Mute; exec --no-startup-id sudo pm-suspend, mode "default"
    bindsym h exec --no-startup-id $Locking; $Mute; exec --no-startup-id sudo pm-hibernate, mode "default"
    bindsym r exec --no-startup-id sudo reboot, mode "default"
    bindsym Shift+s exec --no-startup-id sudo shutdown now, mode "default"
    bindsym c exec --no-startup-id $Change, mode "default"
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
set $mode_system (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown, (c) change user
bindsym $mod+Shift+p mode "$mode_system"

# quick locker
bindsym $super+l exec $Locking; $Mute

# lock after 15 minutes
#exec xautolock -time 15 -locker "$Lock" -detectsleep -notify 15
exec xautolock -time 15 -locker "$Lock" -notify 25 -notifier "notify-send 'Locking in 25 sec'" -detectsleep

# session lock
#bindsym Ctrl+$mod+l exec xautolock -locknow

#exec --no-startup-id xset dpms 600

################################################################################
#  ;Application shortcuts
################################################################################

# set standard applications
#set $terminal xfce4-terminal
set $terminal gnome-terminal
set $filemanager nautilus
# thunar

# start a terminal
bindsym $mod+Return exec $terminal

# start dmenu (a program launcher)
#bindsym $super+q exec dmenu_run

# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
bindsym $super+d exec --no-startup-id i3-dmenu-desktop

# scratchpad
bindsym $super+Shift+m  move scratchpad
bindsym $super+Shift+s scratchpad show
bindsym $super+Shift+d [instance="terminal"] scratchpad show
bindsym $super+Shift+f [instance="nautilus|thunar"] scratchpad show
bindsym $super+Shift+k [instance="keepass(?i)"] scratchpad show
bindsym $super+Shift+z [class="(?i)zotero"] scratchpad show
#bindsym $super+Shift+h [instance="Zeiterfassung"] scratchpad show

# application shortcuts
# xmodmap -pk
bindsym $super+t        exec $terminal
bindsym $super+m        exec thunderbird
bindsym $super+w        exec firefox
bindsym $super+f        exec $filemanager
bindsym $super+g        exec google-chrome-stable
#bindsym $super+g        exec chromium
bindsym $super+s        exec subl
bindsym $super+r        exec $terminal -x ranger
bindsym $super+a        exec angrysearch
bindsym $super+c        exec caffeine-indicator
bindsym $super+e        exec xfce4-appfinder
bindsym Home            exec xfce4-screenshooter
bindsym $super+k        exec keepass2
bindsym $super+i        exec /usr/bin/zim
bindsym $super+z        exec /opt/zotero/zotero
bindsym $super+o        exec simplenote

# bindsym $super+h        exec hamster-time-tracker


################################################################################
#  ;Touchpad
################################################################################

# touchpad scrolling with two fingers
exec_always xinput --set-prop "SynPS/2 Synaptics Touchpad" "Synaptics Two-Finger Scrolling" 1 1

# touchpad tap to click
exec_always synclient TapButton1=1      # left button click
exec_always synclient PalmDetect=1
exec_always synclient HorizTwoFingerScroll=1
exec_always synclient TapButton2=3      # right button click
exec_always synclient TapButton3=2      # middle button click

# touchpad off at startup
exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 0

# touchpad on / off
mode "$touchpad" {
    bindsym f exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 0, mode "default"
    bindsym o exec --no-startup-id xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 1, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"

}
set $touchpad (o) touchpad on, (f) touchpad off
bindsym $mod+t mode "$touchpad"


################################################################################
#  ;Trackpoint
################################################################################

# To enable vertical scrolling
exec_always xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation" 1
exec_always xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Button" 2
exec_always xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Timeout" 8000

# To enable horizontal scrolling in addition to vertical scrolling
exec_always xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Wheel Emulation Axes" 6 7 4 5

# To enable middle button emulation (using left- and right-click simultaneously)
exec_always xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Middle Button Emulation" 1
exec_always xinput set-prop "TPPS/2 IBM TrackPoint" "Evdev Middle Button Timeout" 500


################################################################################
#  ;Startup
################################################################################

# autostart programs and set config
exec --no-startup-id ~/.config/i3/startup.sh

# start on workspace
# exec i3-msg 'workspace $ws14; exec /mnt/Daten/Software/laverna-0.7.3-linux-x64/laverna&; exec xfce4-terminal&'
#exec i3-msg 'workspace $ws14; exec zim&'

